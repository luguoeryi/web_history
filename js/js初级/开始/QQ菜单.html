<!DOCTPY HTML>
<html>
	<head>
		<title>QQ菜单</title>
		<style>
		ul,li,h2{margin:0;padding:0;}
		li{list-style:none;}
		#list{
		width:250px;margin:50 auto;
		}
		#list ul{
		display:none;
		}
		 h2{
		font-size:20px;height:30px;line-height:30px;text-indent:20px;background:url(images/ico1.gif) no-repeat 3px center #E3E3FF;
		border:1px solid #ccc;cursor:pointer;
		}
		.hh2{
		background:url(images/ico2.gif) no-repeat 3px center #ccc;
		}
		#list ul li {
		height:20px;line-height:20px;text-indent:20px;border:1px solid #ccc;
		}
		</style>
		<script>
		window.onload = function(){
			var Dul = document.getElementById('list');
			var Xul = Dul.getElementsByTagName('ul');
			var oH2 = Dul.getElementsByTagName('h2');
			var str = null;
			var arr= [];
			for(var i=0;i<oH2.length;i++){
			    oH2[i].index=i;
				oH2[i].onclick = function(){
					for( var i=0; i<oH2.length; i++ ){
						if( i != this.index ){                 //除本身以外 i是数字多以和index
							Xul[i].style.display = 'none';
							oH2[i].className = '';
						}
					}
					if(this.className ==''){
						Xul[this.index].style.display = 'block';
						this.className = 'hh2';
						} else{
						Xul[this.index].style.display = 'none';
						this.className = '';
							for(var y=0;y<arr.length;y++){
								arr[y].style.background = '';   //折叠时li隐藏
							}
						}
					
					
				};
			}
			for(var i=0;i<Xul.length;i++){
				str = Xul[i].getElementsByTagName('li');
				for(var j=0;j<str.length;j++){
					arr.push(str[j]);
				}
			}
			for(var i=0;i<arr.length;i++){
				arr[i].onclick = function(){
					for(var i=0;i<arr.length;i++){
						arr[i].style.background = '';
					}
					this.style.background = '#B2ADAD';
				}
				
			}
				/* 2. 清除上一个： var abc= null;       				  onclick =funvtion(){
																		var abc = Oli[unm]
				                                                        abc.className='';
																		abc=this;
																		this.className='active';} */
	
			
		};
		</script>
	</head>
	<body>
	<ul id="list">
		<li class="oli">
			<h2>我的好友</h2>
			<ul>
				<li>杨周斌</li>
				<li>聂江涛</li>
				<li>况余斌</li>
				<li>样题阿</li>
				<li>赠送挤</li>
			</ul>
		</li>
		<li class="oli">
			<h2>我的亲人</h2>
			<ul>
				<li>杨立峰</li>
				<li>你好</li>
				<li>你妈好</li>
				<li>你全家好</li>
				<li>写给十年</li>
			</ul>
		</li>
		<li class="oli">
			<h2>黑名单</h2>
			<ul>
				<li>张晓松</li>
				<li>李婷婷</li>
				<li>于文静</li>
			</ul>
		</li>
	</ul>
	</body>
</html>